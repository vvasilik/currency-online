{"version":3,"sources":["constants.js","notification.js","helpers.js","index.js"],"names":["dotNumberKey","minNum","maxNum","defaultNum","currency","document","querySelector","usedCurrenciesKey","inputEl","getBtn","clearBtn","resEl","fromEl","toEl","burger","reverse","saveDefaultBtn","defaultFrom","defaultTo","saveDotBtn","dotNumberInput","addCurrencySelect","saveAddCurrencyBtn","setInitialCurrenciesBtn","isFromAttr","isToAttr","apiGetAll","apiGetValue","initialUsedCurrencies","id","currencyName","name","initNotification","Notification","requestPermission","status","console","log","displayNotification","text","permission","navigator","serviceWorker","getRegistration","then","reg","showNotification","getQuery","itemFrom","itemTo","clearSelectors","innerHTML","clear","value","innerText","focus","getMountedOptions","data","settings","options","Object","keys","map","item","createOption","sort","a","b","dataset","wrapper","createDocumentFragment","forEach","appendChild","el","createElement","isShort","selectPosition","selected","allCurrencies","initialize","initListeners","setCurrenciesSelectors","setDefaultDot","setAllCurrencies","addEventListener","getCurrency","toggleMenu","toggleCurrency","saveDefaultHandler","saveDotNumber","saveAddCurrency","setInitialCurrencies","setSelectors","getData","fromVal","toVal","query","fetch","resp","json","rate","val","onLine","calculate","catch","err","num","Number","numDotStored","numDot","Math","round","pow","activeClass","body","classList","contains","remove","add","firstIndex","selectedIndex","secondIndex","firstValue","secondValue","saveData","key","localStorage","setItem","JSON","stringify","getItem","parse","res","mountAllCurrencies","results","filteredData","filterAlreadyExist","mountedOptions","usedCurrencies","filter","length","newCurrency","newCurrencies","push"],"mappings":"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","file":"index.map","sourceRoot":"../src","sourcesContent":["export const dotNumberKey = 'dotNumber';\nexport const minNum = 0;\nexport const maxNum = 5;\nexport const defaultNum = 2;\nexport const currency = document.querySelector('.currency');\nexport const usedCurrenciesKey = 'usedCurrency';\nexport const inputEl = currency.querySelector('.input');\nexport const getBtn = currency.querySelector('.get');\nexport const clearBtn = currency.querySelector('.clear');\nexport const resEl = currency.querySelector('.result');\nexport const fromEl = currency.querySelector('.select-from');\nexport const toEl = currency.querySelector('.select-to');\nexport const burger = currency.querySelector('.menu');\nexport const reverse = currency.querySelector('.reverse');\nexport const saveDefaultBtn = currency.querySelector('.save-default');\nexport const defaultFrom = currency.querySelector('.default-from');\nexport const defaultTo = currency.querySelector('.default-to');\nexport const saveDotBtn = currency.querySelector('.save-dot-number');\nexport const dotNumberInput = currency.querySelector('.dot-number');\nexport const addCurrencySelect = currency.querySelector('.add-currency-select');\nexport const saveAddCurrencyBtn = currency.querySelector('.save-add-currency');\nexport const setInitialCurrenciesBtn = currency.querySelector('.set-initial-btn');\nexport const isFromAttr = 'isFrom';\nexport const isToAttr = 'isTo';\nexport const apiGetAll = 'https://free.currencyconverterapi.com/api/v6/currencies';\nexport const apiGetValue = 'https://free.currencyconverterapi.com/api/v5/convert';\nexport const initialUsedCurrencies = [\n\t{id: 'PLN', currencyName: 'Polish Zloty', name: 'Polish Zloty', [isFromAttr]:true},\n\t{id: 'EUR', currencyName: 'Euro', name: 'Euro'},\n\t{id: 'USD', currencyName: 'United States Dollar', name: 'United States Dollar'},\n\t{id: 'UAH', currencyName: 'Ukrainian Hryvnia', name: 'Ukrainian Hryvnia', [isToAttr]:true},\n\t{id: 'RUB', currencyName: 'Russian Ruble', name: 'Russian Ruble'}\n]","export function initNotification() {\n\tif (typeof(Notification) === 'undefined') {\n\t\treturn;\n\t}\n\tNotification.requestPermission(function(status) {\n\t\tconsole.log('Notification permission status:', status);\n\t});\n}\n\nexport function displayNotification(text) {\n    if (Notification.permission == 'granted') {\n        navigator.serviceWorker.getRegistration().then(function(reg) {\n            reg.showNotification(text);\n        });\n    }\n}","import { apiGetValue, fromEl, toEl, defaultFrom, defaultTo, inputEl, resEl } from './constants';\n\nexport function getQuery(itemFrom, itemTo) {\n\treturn `${apiGetValue}?q=${itemFrom}_${itemTo}&compact=y`;\n}\n\nexport function clearSelectors() {\n\tfromEl.innerHTML = '';\n\ttoEl.innerHTML = '';\n\tdefaultFrom.innerHTML = '';\n\tdefaultTo.innerHTML = '';\n}\n\nexport function clear() {\n\tinputEl.value = '';\n\tresEl.innerText = '';\n\tinputEl.focus();\n}\n\nexport function getMountedOptions(data, settings) {\n\tconst options = Object.keys(data)\n\t\t.map(item => createOption(data[item], settings))\n\t\t.sort((a,b) => a.dataset.name < b.dataset.name ? -1 : 1);\n\tconst wrapper = document.createDocumentFragment();\n\n\toptions.forEach(item => wrapper.appendChild(item));\n\n\treturn wrapper;\n}\n\nexport function createOption(item, settings={}) {\n\tconst el = document.createElement('option');\n\n\tel.value = item.id;\n\tel.id = item.id;\n\tel.dataset.name = item.currencyName;\n\n\tif (settings.isShort) {\n\t\tel.innerText = item.id;\n\t} else {\n\t\tel.innerText = `${item.currencyName} (${item.id})`;\n\t}\n\n\tif (item[settings.selectPosition]) {\n\t\tel.selected = true;\n\t} else {\n\t\tel.selected = false;\n\t}\n\n\treturn el;\n}","import {\n\tdotNumberKey, minNum, maxNum, defaultNum, usedCurrenciesKey,\n\tinputEl, getBtn, clearBtn, resEl, fromEl, toEl,\tburger, reverse,\n\tsaveDefaultBtn,\tdefaultFrom, defaultTo,\tsaveDotBtn,\tdotNumberInput,\n\taddCurrencySelect, saveAddCurrencyBtn,\tsetInitialCurrenciesBtn,\n\tisFromAttr,\tisToAttr, apiGetAll, apiGetValue, initialUsedCurrencies\n} from './constants';\nimport { initNotification, displayNotification } from './notification';\nimport { getQuery, clearSelectors, clear, getMountedOptions } from './helpers';\n\nlet allCurrencies;\n\ninitialize();\n\nfunction initialize() {\n\tinitNotification();\n\tinitListeners();\n\tsetCurrenciesSelectors();\n\tsetDefaultDot();\n\tsetAllCurrencies();\n};\n\nfunction initListeners() {\n\tgetBtn.addEventListener('click', getCurrency);\n\tclearBtn.addEventListener('click', clear);\n\tburger.addEventListener('click', toggleMenu);\n\treverse.addEventListener('click', toggleCurrency);\n\tsaveDefaultBtn.addEventListener('click', saveDefaultHandler);\n\tsaveDotBtn.addEventListener('click', saveDotNumber);\n\tsaveAddCurrencyBtn.addEventListener('click', saveAddCurrency);\n\tsetInitialCurrenciesBtn.addEventListener('click', setInitialCurrencies);\n}\n\nfunction setCurrenciesSelectors() {\n\tclearSelectors();\n\tsetSelectors();\n}\n\nfunction setSelectors() {\n\tconst data = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\n\tfromEl.appendChild(getMountedOptions(data, {selectPosition: isFromAttr, isShort: true}));\n\ttoEl.appendChild(getMountedOptions(data, {selectPosition: isToAttr, isShort: true}));\n\tdefaultFrom.appendChild(getMountedOptions(data, {selectPosition: isFromAttr, isShort: true}));\n\tdefaultTo.appendChild(getMountedOptions(data, {selectPosition: isToAttr, isShort: true}));\n}\n\nfunction getCurrency() {\n\tconst fromVal = fromEl.value;\n\tconst toVal = toEl.value;\n\tconst query = getQuery(fromVal, toVal);\n\n\tif (fromVal === toVal) {\n\t\tcalculate(1);\n\t\treturn;\n\t}\n\n\tfetch(query)\n\t\t.then(resp => {return resp.json()})\n\t\t.then(data => {\n\t\t\tlet rate = 1;\n\n\t\t\tfor (let item in data) {\n\t\t\t\trate = data[item].val;\n\t\t\t}\n\t\t\tif (!navigator.onLine) {\n\t\t\t\tdisplayNotification('Application works offline');\n\t\t\t}\n\t\t\tcalculate(rate);\n\t\t})\n\t\t.catch(err => resEl.innerText = `Some problems with request - ${err}`);\n}\n\nfunction calculate(rate) {\n\tconst num = Number(inputEl.value);\n\tconst numDotStored = getData(dotNumberKey);\n\tconst numDot = numDotStored !== null ? numDotStored : defaultNum;\n\n\tresEl.innerText = Math.round(rate * num * Math.pow(10, numDot)) / Math.pow(10, numDot);\n}\n\nfunction toggleMenu() {\n\tconst activeClass = '_burger-active';\n\tconst body = document.body;\n\n\tif (body.classList.contains(activeClass)) {\n\t\tbody.classList.remove(activeClass);\n\t} else {\n\t\tbody.classList.add(activeClass);\n\t}\n}\n\nfunction toggleCurrency() {\n\tconst firstIndex = fromEl.selectedIndex;\n\tconst secondIndex = toEl.selectedIndex;\n\n\tfromEl[secondIndex].selected = true;\n\ttoEl[firstIndex].selected = true;\n}\n\nfunction saveDefaultHandler() {\n\tconst firstValue = defaultFrom[defaultFrom.selectedIndex].id;\n\tconst secondValue = defaultTo[defaultTo.selectedIndex].id;\n\tconst data = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\n\tdata.forEach(item => {\n\t\tconst id = item.id\n\n\t\titem[isFromAttr] = false;\n\t\titem[isToAttr] = false;\n\n\t\tif (id === firstValue) {\n\t\t\titem[isFromAttr] = true;\n\t\t}\n\n\t\tif (id === secondValue) {\n\t\t\titem[isToAttr] = true;\n\t\t}\n\t});\n\tsaveData(usedCurrenciesKey, data);\n\tsetCurrenciesSelectors();\n\ttoggleMenu();\n}\n\nfunction saveData(key, value) {\n\tlocalStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getData(key) {\n\tconst data = localStorage.getItem(key);\n\n\treturn JSON.parse(data);\n}\n\nfunction setDefaultDot() {\n\tconst data = getData(dotNumberKey);\n\n\tdotNumberInput.value = data !== null ? data : defaultNum;\n}\n\nfunction saveDotNumber() {\n\tconst value = Number(dotNumberInput.value);\n\tconst num = (value < minNum || value > maxNum) ? defaultNum : value;\n\n\tsaveData(dotNumberKey, num);\n\ttoggleMenu();\n}\n\nfunction setAllCurrencies() {\n\tfetch(apiGetAll)\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tallCurrencies = data.results;\n\t\t\tmountAllCurrencies(allCurrencies);\n\t\t})\n}\n\nfunction mountAllCurrencies(data=allCurrencies) {\n\tconst filteredData = filterAlreadyExist(data);\n\tconst mountedOptions = getMountedOptions(filteredData);\n\n\taddCurrencySelect.innerHTML = '';\n\taddCurrencySelect.appendChild(mountedOptions);\n}\n\nfunction filterAlreadyExist(data) {\n\tconst usedCurrencies = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\tconst res = {};\n\n\tObject.keys(data).forEach(item => {\n\t\tconst id = data[item].id;\n\t\tif (usedCurrencies.filter(currency => currency.id === item).length === 0) {\n\t\t\tres[id] = data[id];\n\t\t}\n\t});\n\n\treturn res;\n}\n\nfunction saveAddCurrency() {\n\tconst usedCurrencies = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\tconst newCurrency = addCurrencySelect[addCurrencySelect.selectedIndex];\n\tconst newCurrencies = [...usedCurrencies];\n\n\tnewCurrencies.push({\n\t\tid: newCurrency.id,\n\t\tcurrencyName: newCurrency.innerText\n\t})\n\n\tsaveData(usedCurrenciesKey, newCurrencies);\n\tsetCurrenciesSelectors();\n\tmountAllCurrencies();\n\ttoggleMenu();\n}\n\nfunction setInitialCurrencies() {\n\tsaveData(usedCurrenciesKey, null);\n\tmountAllCurrencies();\n\tsetCurrenciesSelectors();\n\ttoggleMenu();\n}"]}