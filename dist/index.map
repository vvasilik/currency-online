{"version":3,"sources":["constants.ts","notification.ts","helpers.ts","index.ts"],"names":[],"mappings":"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","file":"index.map","sourceRoot":"../src","sourcesContent":["\n\nexport const dotNumberKey = 'dotNumber';\nexport const minNum = 0;\nexport const maxNum = 5;\nexport const defaultNum = 2;\nexport const currency:HTMLElement = document.querySelector('.currency');\nexport const usedCurrenciesKey = 'usedCurrency';\nexport const inputEl:HTMLInputElement = currency.querySelector('.input');\nexport const getBtn:HTMLElement = currency.querySelector('.get');\nexport const clearBtn:HTMLElement = currency.querySelector('.clear');\nexport const resEl:HTMLElement = currency.querySelector('.result');\nexport const fromEl:HTMLSelectElement = currency.querySelector('.select-from');\nexport const toEl:HTMLSelectElement = currency.querySelector('.select-to');\nexport const burger:HTMLElement = currency.querySelector('.menu');\nexport const reverse:HTMLElement = currency.querySelector('.reverse');\nexport const saveDefaultBtn:HTMLElement = currency.querySelector('.save-default');\nexport const defaultFrom:HTMLSelectElement = currency.querySelector('.default-from');\nexport const defaultTo:HTMLSelectElement = currency.querySelector('.default-to');\nexport const saveDotBtn:HTMLElement = currency.querySelector('.save-dot-number');\nexport const dotNumberInput:HTMLInputElement = currency.querySelector('.dot-number');\nexport const addCurrencySelect:HTMLSelectElement = currency.querySelector('.add-currency-select');\nexport const saveAddCurrencyBtn:HTMLElement = currency.querySelector('.save-add-currency');\nexport const setInitialCurrenciesBtn:HTMLElement = currency.querySelector('.set-initial-btn');\nexport const isFromAttr = 'isFrom';\nexport const isToAttr = 'isTo';\nexport const apiGetAll = 'https://free.currencyconverterapi.com/api/v6/currencies';\nexport const apiGetValue = 'https://free.currencyconverterapi.com/api/v5/convert';\nexport const initialUsedCurrencies = [\n\t{id: 'PLN', currencyName: 'Polish Zloty', name: 'Polish Zloty', [isFromAttr]:true},\n\t{id: 'EUR', currencyName: 'Euro', name: 'Euro'},\n\t{id: 'USD', currencyName: 'United States Dollar', name: 'United States Dollar'},\n\t{id: 'UAH', currencyName: 'Ukrainian Hryvnia', name: 'Ukrainian Hryvnia', [isToAttr]:true},\n\t{id: 'RUB', currencyName: 'Russian Ruble', name: 'Russian Ruble'}\n]","export function initNotification() {\n\tif (typeof(Notification) === 'undefined') {\n\t\treturn;\n\t}\n\tNotification.requestPermission(function(status) {\n\t\tconsole.log('Notification permission status:', status);\n\t});\n}\n\nexport function displayNotification(text) {\n    if (Notification.permission == 'granted') {\n        navigator.serviceWorker.getRegistration().then(function(reg) {\n            reg.showNotification(text);\n        });\n    }\n}","import { apiGetValue, fromEl, toEl, defaultFrom, defaultTo, inputEl, resEl } from './constants';\n\ninterface OptionSettings {\n\tisShort: Boolean,\n\tselectPosition: string\n}\n\nexport function getQuery(itemFrom, itemTo) {\n\treturn `${apiGetValue}?q=${itemFrom}_${itemTo}&compact=y`;\n}\n\nexport function clearSelectors() {\n\tfromEl.innerHTML = '';\n\ttoEl.innerHTML = '';\n\tdefaultFrom.innerHTML = '';\n\tdefaultTo.innerHTML = '';\n}\n\nexport function clear() {\n\tinputEl.value = '';\n\tresEl.innerText = '';\n\tinputEl.focus();\n}\n\nexport function getMountedOptions(data, settings:OptionSettings) {\n\tconst options = Object.keys(data)\n\t\t.map(item => createOption(data[item], settings))\n\t\t.sort((a,b) => a.dataset.name < b.dataset.name ? -1 : 1);\n\tconst wrapper = document.createDocumentFragment();\n\n\toptions.forEach(item => wrapper.appendChild(item));\n\n\treturn wrapper;\n}\n\nexport function createOption(item, settings:OptionSettings) {\n\tconst el = document.createElement('option');\n\n\tel.value = item.id;\n\tel.id = item.id;\n\tel.dataset.name = item.currencyName;\n\n\tif (settings.isShort) {\n\t\tel.innerText = item.id;\n\t} else {\n\t\tel.innerText = `${item.currencyName} (${item.id})`;\n\t}\n\n\tif (item[settings.selectPosition]) {\n\t\tel.selected = true;\n\t} else {\n\t\tel.selected = false;\n\t}\n\n\treturn el;\n}","import {\n\tdotNumberKey, minNum, maxNum, defaultNum, usedCurrenciesKey,\n\tinputEl, getBtn, clearBtn, resEl, fromEl, toEl,\tburger, reverse,\n\tsaveDefaultBtn,\tdefaultFrom, defaultTo,\tsaveDotBtn,\tdotNumberInput,\n\taddCurrencySelect, saveAddCurrencyBtn,\tsetInitialCurrenciesBtn,\n\tisFromAttr,\tisToAttr, apiGetAll, apiGetValue, initialUsedCurrencies\n} from './constants';\nimport { initNotification, displayNotification } from './notification';\nimport { getQuery, clearSelectors, clear, getMountedOptions } from './helpers';\n\nlet allCurrencies;\n\ninitialize();\n\nfunction initialize() {\n\tinitNotification();\n\tinitListeners();\n\tsetCurrenciesSelectors();\n\tsetDefaultDot();\n\tsetAllCurrencies();\n};\n\nfunction initListeners() {\n\tgetBtn.addEventListener('click', getCurrency);\n\tclearBtn.addEventListener('click', clear);\n\tburger.addEventListener('click', toggleMenu);\n\treverse.addEventListener('click', toggleCurrency);\n\tsaveDefaultBtn.addEventListener('click', saveDefaultHandler);\n\tsaveDotBtn.addEventListener('click', saveDotNumber);\n\tsaveAddCurrencyBtn.addEventListener('click', saveAddCurrency);\n\tsetInitialCurrenciesBtn.addEventListener('click', setInitialCurrencies);\n}\n\nfunction setCurrenciesSelectors() {\n\tclearSelectors();\n\tsetSelectors();\n}\n\nfunction setSelectors() {\n\tconst data = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\n\tfromEl.appendChild(getMountedOptions(data, {selectPosition: isFromAttr, isShort: true}));\n\ttoEl.appendChild(getMountedOptions(data, {selectPosition: isToAttr, isShort: true}));\n\tdefaultFrom.appendChild(getMountedOptions(data, {selectPosition: isFromAttr, isShort: true}));\n\tdefaultTo.appendChild(getMountedOptions(data, {selectPosition: isToAttr, isShort: true}));\n}\n\nfunction getCurrency() {\n\tconst fromVal = fromEl.value;\n\tconst toVal = toEl.value;\n\tconst query = getQuery(fromVal, toVal);\n\n\tif (fromVal === toVal) {\n\t\tcalculate(1);\n\t\treturn;\n\t}\n\n\tfetch(query)\n\t\t.then(resp => {return resp.json()})\n\t\t.then(data => {\n\t\t\tlet rate = 1;\n\n\t\t\tfor (let item in data) {\n\t\t\t\trate = data[item].val;\n\t\t\t}\n\t\t\tif (!navigator.onLine) {\n\t\t\t\tdisplayNotification('Application works offline');\n\t\t\t}\n\t\t\tcalculate(rate);\n\t\t})\n\t\t.catch(err => resEl.innerText = `Some problems with request - ${err}`);\n}\n\nfunction calculate(rate) {\n\tconst num = Number(inputEl.value);\n\tconst numDotStored = getData(dotNumberKey);\n\tconst numDot = numDotStored !== null ? numDotStored : defaultNum;\n\n\tresEl.innerText = (Math.round(rate * num * Math.pow(10, numDot)) / Math.pow(10, numDot)).toString();\n}\n\nfunction toggleMenu() {\n\tconst activeClass = '_burger-active';\n\tconst body = document.body;\n\n\tif (body.classList.contains(activeClass)) {\n\t\tbody.classList.remove(activeClass);\n\t} else {\n\t\tbody.classList.add(activeClass);\n\t}\n}\n\nfunction toggleCurrency() {\n\tconst firstIndex = fromEl.selectedIndex;\n\tconst secondIndex = toEl.selectedIndex;\n\n\t(<HTMLOptionElement>fromEl[secondIndex]).selected = true;\n\t(<HTMLOptionElement>toEl[firstIndex]).selected = true;\n}\n\nfunction saveDefaultHandler() {\n\tconst firstValue = defaultFrom[defaultFrom.selectedIndex].id;\n\tconst secondValue = defaultTo[defaultTo.selectedIndex].id;\n\tconst data = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\n\tdata.forEach(item => {\n\t\tconst id = item.id\n\n\t\titem[isFromAttr] = false;\n\t\titem[isToAttr] = false;\n\n\t\tif (id === firstValue) {\n\t\t\titem[isFromAttr] = true;\n\t\t}\n\n\t\tif (id === secondValue) {\n\t\t\titem[isToAttr] = true;\n\t\t}\n\t});\n\tsaveData(usedCurrenciesKey, data);\n\tsetCurrenciesSelectors();\n\ttoggleMenu();\n}\n\nfunction saveData(key, value) {\n\tlocalStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getData(key) {\n\tconst data = localStorage.getItem(key);\n\n\treturn JSON.parse(data);\n}\n\nfunction setDefaultDot() {\n\tconst data = getData(dotNumberKey);\n\n\tdotNumberInput.value = data !== null ? data : defaultNum;\n}\n\nfunction saveDotNumber() {\n\tconst value = Number(dotNumberInput.value);\n\tconst num = (value < minNum || value > maxNum) ? defaultNum : value;\n\n\tsaveData(dotNumberKey, num);\n\ttoggleMenu();\n}\n\nfunction setAllCurrencies() {\n\tfetch(apiGetAll)\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tallCurrencies = data.results;\n\t\t\tmountAllCurrencies(allCurrencies);\n\t\t})\n}\n\nfunction mountAllCurrencies(data=allCurrencies) {\n\tconst filteredData = filterAlreadyExist(data);\n\tconst mountedOptions = getMountedOptions(filteredData, {isShort: false, selectPosition: null});\n\n\taddCurrencySelect.innerHTML = '';\n\taddCurrencySelect.appendChild(mountedOptions);\n}\n\nfunction filterAlreadyExist(data) {\n\tconst usedCurrencies = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\tconst res = {};\n\n\tObject.keys(data).forEach(item => {\n\t\tconst id = data[item].id;\n\t\tif (usedCurrencies.filter(currency => currency.id === item).length === 0) {\n\t\t\tres[id] = data[id];\n\t\t}\n\t});\n\n\treturn res;\n}\n\nfunction saveAddCurrency() {\n\tconst usedCurrencies = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\tconst newCurrency = addCurrencySelect[addCurrencySelect.selectedIndex];\n\tconst newCurrencies = [...usedCurrencies];\n\n\tnewCurrencies.push({\n\t\tid: newCurrency.id,\n\t\tcurrencyName: newCurrency.innerText\n\t})\n\n\tsaveData(usedCurrenciesKey, newCurrencies);\n\tsetCurrenciesSelectors();\n\tmountAllCurrencies();\n\ttoggleMenu();\n}\n\nfunction setInitialCurrencies() {\n\tsaveData(usedCurrenciesKey, null);\n\tmountAllCurrencies();\n\tsetCurrenciesSelectors();\n\ttoggleMenu();\n}"]}