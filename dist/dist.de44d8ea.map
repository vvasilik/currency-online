{"version":3,"sources":["../src/constants.ts","../src/notification.ts","../src/helpers.ts","../src/index.ts"],"names":[],"mappings":"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","file":"dist.de44d8ea.map","sourceRoot":"..","sourcesContent":["\n\nexport const dotNumberKey = 'dotNumber';\nexport const minNum = 0;\nexport const maxNum = 5;\nexport const defaultNum = 2;\nexport const currency:HTMLElement = document.querySelector('.currency');\nexport const usedCurrenciesKey = 'usedCurrency';\nexport const inputEl:HTMLInputElement = currency.querySelector('.input');\nexport const getBtn:HTMLElement = currency.querySelector('.get');\nexport const clearBtn:HTMLElement = currency.querySelector('.clear');\nexport const resEl:HTMLElement = currency.querySelector('.result');\nexport const fromEl:HTMLSelectElement = currency.querySelector('.select-from');\nexport const toEl:HTMLSelectElement = currency.querySelector('.select-to');\nexport const burger:HTMLElement = currency.querySelector('.menu');\nexport const reverse:HTMLElement = currency.querySelector('.reverse');\nexport const saveDefaultBtn:HTMLElement = currency.querySelector('.save-default');\nexport const defaultFrom:HTMLSelectElement = currency.querySelector('.default-from');\nexport const defaultTo:HTMLSelectElement = currency.querySelector('.default-to');\nexport const saveDotBtn:HTMLElement = currency.querySelector('.save-dot-number');\nexport const dotNumberInput:HTMLInputElement = currency.querySelector('.dot-number');\nexport const addCurrencySelect:HTMLSelectElement = currency.querySelector('.add-currency-select');\nexport const saveAddCurrencyBtn:HTMLElement = currency.querySelector('.save-add-currency');\nexport const setInitialCurrenciesBtn:HTMLElement = currency.querySelector('.set-initial-btn');\nexport const isFromAttr = 'isFrom';\nexport const isToAttr = 'isTo';\nexport const apiGetAll = 'https://free.currencyconverterapi.com/api/v6/currencies';\nexport const apiGetValue = 'https://free.currencyconverterapi.com/api/v5/convert';\nexport const initialUsedCurrencies = [\n\t{id: 'PLN', currencyName: 'Polish Zloty', name: 'Polish Zloty', [isFromAttr]:true},\n\t{id: 'EUR', currencyName: 'Euro', name: 'Euro'},\n\t{id: 'USD', currencyName: 'United States Dollar', name: 'United States Dollar'},\n\t{id: 'UAH', currencyName: 'Ukrainian Hryvnia', name: 'Ukrainian Hryvnia', [isToAttr]:true},\n\t{id: 'RUB', currencyName: 'Russian Ruble', name: 'Russian Ruble'}\n]","export function initNotification() {\n\tif (typeof(Notification) === 'undefined') {\n\t\treturn;\n\t}\n\tNotification.requestPermission(function(status) {\n\t\tconsole.log('Notification permission status:', status);\n\t});\n}\n\nexport function displayNotification(text) {\n    if (Notification.permission == 'granted') {\n        navigator.serviceWorker.getRegistration().then(function(reg) {\n            reg.showNotification(text);\n        });\n    }\n}","import { apiGetValue, fromEl, toEl, defaultFrom, defaultTo, inputEl, resEl } from './constants';\n\ninterface OptionSettings {\n\tisShort: Boolean,\n\tselectPosition: string\n}\n\nexport function getQuery(itemFrom, itemTo) {\n\treturn `${apiGetValue}?q=${itemFrom}_${itemTo}&compact=y`;\n}\n\nexport function clearSelectors() {\n\tfromEl.innerHTML = '';\n\ttoEl.innerHTML = '';\n\tdefaultFrom.innerHTML = '';\n\tdefaultTo.innerHTML = '';\n}\n\nexport function clear() {\n\tinputEl.value = '';\n\tresEl.innerText = '';\n\tinputEl.focus();\n}\n\nexport function getMountedOptions(data, settings:OptionSettings) {\n\tconst options = Object.keys(data)\n\t\t.map(item => createOption(data[item], settings))\n\t\t.sort((a,b) => a.dataset.name < b.dataset.name ? -1 : 1);\n\tconst wrapper = document.createDocumentFragment();\n\n\toptions.forEach(item => wrapper.appendChild(item));\n\n\treturn wrapper;\n}\n\nexport function createOption(item, settings:OptionSettings) {\n\tconst el = document.createElement('option');\n\n\tel.value = item.id;\n\tel.id = item.id;\n\tel.dataset.name = item.currencyName;\n\n\tif (settings.isShort) {\n\t\tel.innerText = item.id;\n\t} else {\n\t\tel.innerText = `${item.currencyName} (${item.id})`;\n\t}\n\n\tif (item[settings.selectPosition]) {\n\t\tel.selected = true;\n\t} else {\n\t\tel.selected = false;\n\t}\n\n\treturn el;\n}","import {\n\tdotNumberKey, minNum, maxNum, defaultNum, usedCurrenciesKey,\n\tinputEl, getBtn, clearBtn, resEl, fromEl, toEl,\tburger, reverse,\n\tsaveDefaultBtn,\tdefaultFrom, defaultTo,\tsaveDotBtn,\tdotNumberInput,\n\taddCurrencySelect, saveAddCurrencyBtn,\tsetInitialCurrenciesBtn,\n\tisFromAttr,\tisToAttr, apiGetAll, apiGetValue, initialUsedCurrencies\n} from './constants';\nimport { initNotification, displayNotification } from './notification';\nimport { getQuery, clearSelectors, clear, getMountedOptions } from './helpers';\n\nlet allCurrencies;\n\ninitialize();\n\nfunction initialize() {\n\tinitNotification();\n\tinitListeners();\n\tsetCurrenciesSelectors();\n\tsetDefaultDot();\n\tsetAllCurrencies();\n};\n\nfunction initListeners() {\n\tgetBtn.addEventListener('click', getCurrency);\n\tclearBtn.addEventListener('click', clear);\n\tburger.addEventListener('click', toggleMenu);\n\treverse.addEventListener('click', toggleCurrency);\n\tsaveDefaultBtn.addEventListener('click', saveDefaultHandler);\n\tsaveDotBtn.addEventListener('click', saveDotNumber);\n\tsaveAddCurrencyBtn.addEventListener('click', saveAddCurrency);\n\tsetInitialCurrenciesBtn.addEventListener('click', setInitialCurrencies);\n}\n\nfunction setCurrenciesSelectors() {\n\tclearSelectors();\n\tsetSelectors();\n}\n\nfunction setSelectors() {\n\tconst data = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\n\tfromEl.appendChild(getMountedOptions(data, {selectPosition: isFromAttr, isShort: true}));\n\ttoEl.appendChild(getMountedOptions(data, {selectPosition: isToAttr, isShort: true}));\n\tdefaultFrom.appendChild(getMountedOptions(data, {selectPosition: isFromAttr, isShort: true}));\n\tdefaultTo.appendChild(getMountedOptions(data, {selectPosition: isToAttr, isShort: true}));\n}\n\nfunction getCurrency() {\n\tconst fromVal = fromEl.value;\n\tconst toVal = toEl.value;\n\tconst query = getQuery(fromVal, toVal);\n\n\tif (fromVal === toVal) {\n\t\tcalculate(1);\n\t\treturn;\n\t}\n\n\tfetch(query)\n\t\t.then(resp => {return resp.json()})\n\t\t.then(data => {\n\t\t\tlet rate = 1;\n\n\t\t\tfor (let item in data) {\n\t\t\t\trate = data[item].val;\n\t\t\t}\n\t\t\tif (!navigator.onLine) {\n\t\t\t\tdisplayNotification('Application works offline');\n\t\t\t}\n\t\t\tcalculate(rate);\n\t\t})\n\t\t.catch(err => resEl.innerText = `Some problems with request - ${err}`);\n}\n\nfunction calculate(rate) {\n\tconst num = Number(inputEl.value);\n\tconst numDotStored = getData(dotNumberKey);\n\tconst numDot = numDotStored !== null ? numDotStored : defaultNum;\n\n\tresEl.innerText = (Math.round(rate * num * Math.pow(10, numDot)) / Math.pow(10, numDot)).toString();\n}\n\nfunction toggleMenu() {\n\tconst activeClass = '_burger-active';\n\tconst body = document.body;\n\n\tif (body.classList.contains(activeClass)) {\n\t\tbody.classList.remove(activeClass);\n\t} else {\n\t\tbody.classList.add(activeClass);\n\t}\n}\n\nfunction toggleCurrency() {\n\tconst firstIndex = fromEl.selectedIndex;\n\tconst secondIndex = toEl.selectedIndex;\n\n\t(<HTMLOptionElement>fromEl[secondIndex]).selected = true;\n\t(<HTMLOptionElement>toEl[firstIndex]).selected = true;\n}\n\nfunction saveDefaultHandler() {\n\tconst firstValue = defaultFrom[defaultFrom.selectedIndex].id;\n\tconst secondValue = defaultTo[defaultTo.selectedIndex].id;\n\tconst data = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\n\tdata.forEach(item => {\n\t\tconst id = item.id\n\n\t\titem[isFromAttr] = false;\n\t\titem[isToAttr] = false;\n\n\t\tif (id === firstValue) {\n\t\t\titem[isFromAttr] = true;\n\t\t}\n\n\t\tif (id === secondValue) {\n\t\t\titem[isToAttr] = true;\n\t\t}\n\t});\n\tsaveData(usedCurrenciesKey, data);\n\tsetCurrenciesSelectors();\n\ttoggleMenu();\n}\n\nfunction saveData(key, value) {\n\tlocalStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getData(key) {\n\tconst data = localStorage.getItem(key);\n\n\treturn JSON.parse(data);\n}\n\nfunction setDefaultDot() {\n\tconst data = getData(dotNumberKey);\n\n\tdotNumberInput.value = data !== null ? data : defaultNum;\n}\n\nfunction saveDotNumber() {\n\tconst value = Number(dotNumberInput.value);\n\tconst num = (value < minNum || value > maxNum) ? defaultNum : value;\n\n\tsaveData(dotNumberKey, num);\n\ttoggleMenu();\n}\n\nfunction setAllCurrencies() {\n\tfetch(apiGetAll)\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tallCurrencies = data.results;\n\t\t\tmountAllCurrencies(allCurrencies);\n\t\t})\n}\n\nfunction mountAllCurrencies(data=allCurrencies) {\n\tconst filteredData = filterAlreadyExist(data);\n\tconst mountedOptions = getMountedOptions(filteredData, {isShort: false, selectPosition: null});\n\n\taddCurrencySelect.innerHTML = '';\n\taddCurrencySelect.appendChild(mountedOptions);\n}\n\nfunction filterAlreadyExist(data) {\n\tconst usedCurrencies = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\tconst res = {};\n\n\tObject.keys(data).forEach(item => {\n\t\tconst id = data[item].id;\n\t\tif (usedCurrencies.filter(currency => currency.id === item).length === 0) {\n\t\t\tres[id] = data[id];\n\t\t}\n\t});\n\n\treturn res;\n}\n\nfunction saveAddCurrency() {\n\tconst usedCurrencies = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\tconst newCurrency = addCurrencySelect[addCurrencySelect.selectedIndex];\n\tconst newCurrencies = [...usedCurrencies];\n\n\tnewCurrencies.push({\n\t\tid: newCurrency.id,\n\t\tcurrencyName: newCurrency.innerText\n\t})\n\n\tsaveData(usedCurrenciesKey, newCurrencies);\n\tsetCurrenciesSelectors();\n\tmountAllCurrencies();\n\ttoggleMenu();\n}\n\nfunction setInitialCurrencies() {\n\tsaveData(usedCurrenciesKey, null);\n\tmountAllCurrencies();\n\tsetCurrenciesSelectors();\n\ttoggleMenu();\n}"]}