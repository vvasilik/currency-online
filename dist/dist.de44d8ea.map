{"version":3,"sources":["../src/constants.ts","../src/notification.ts","../src/helpers.ts","../src/index.ts"],"names":[],"mappings":"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","file":"dist.de44d8ea.map","sourceRoot":"..","sourcesContent":["\n\nexport const dotNumberKey = 'dotNumber';\nexport const minNum = 0;\nexport const maxNum = 5;\nexport const defaultNum = 2;\nexport const currency:HTMLElement = document.querySelector('.currency');\nexport const usedCurrenciesKey = 'usedCurrency';\nexport const inputEl:HTMLInputElement = currency.querySelector('.input');\nexport const getBtn:HTMLElement = currency.querySelector('.get');\nexport const clearBtn:HTMLElement = currency.querySelector('.clear');\nexport const resEl:HTMLElement = currency.querySelector('.result');\nexport const fromEl:HTMLSelectElement = currency.querySelector('.select-from');\nexport const toEl:HTMLSelectElement = currency.querySelector('.select-to');\nexport const burger:HTMLElement = currency.querySelector('.menu');\nexport const reverse:HTMLElement = currency.querySelector('.reverse');\nexport const saveDefaultBtn:HTMLElement = currency.querySelector('.save-default');\nexport const defaultFrom:HTMLSelectElement = currency.querySelector('.default-from');\nexport const defaultTo:HTMLSelectElement = currency.querySelector('.default-to');\nexport const saveDotBtn:HTMLElement = currency.querySelector('.save-dot-number');\nexport const dotNumberInput:HTMLInputElement = currency.querySelector('.dot-number');\nexport const addCurrencySelect:HTMLSelectElement = currency.querySelector('.add-currency-select');\nexport const saveAddCurrencyBtn:HTMLElement = currency.querySelector('.save-add-currency');\nexport const setInitialCurrenciesBtn:HTMLElement = currency.querySelector('.set-initial-btn');\nexport const isFromAttr = 'isFrom';\nexport const isToAttr = 'isTo';\nexport const apiGetAll = 'https://free.currencyconverterapi.com/api/v6/currencies';\nexport const apiGetValue = 'https://free.currencyconverterapi.com/api/v5/convert';\nexport const initialUsedCurrencies = [\n\t{id: 'PLN', currencyName: 'Polish Zloty', name: 'Polish Zloty', [isFromAttr]:true},\n\t{id: 'EUR', currencyName: 'Euro', name: 'Euro'},\n\t{id: 'USD', currencyName: 'United States Dollar', name: 'United States Dollar'},\n\t{id: 'UAH', currencyName: 'Ukrainian Hryvnia', name: 'Ukrainian Hryvnia', [isToAttr]:true},\n\t{id: 'RUB', currencyName: 'Russian Ruble', name: 'Russian Ruble'}\n]","export function initNotification() {\n\tif (typeof(Notification) === 'undefined') {\n\t\treturn;\n\t}\n\tNotification.requestPermission(function(status) {\n\t\tconsole.log('Notification permission status:', status);\n\t});\n}\n\nexport function displayNotification(text) {\n    if (Notification.permission == 'granted') {\n        navigator.serviceWorker.getRegistration().then(function(reg) {\n            reg.showNotification(text);\n        });\n    }\n}","import { apiGetValue, fromEl, toEl, defaultFrom, defaultTo, inputEl, resEl } from './constants';\n\ninterface OptionSettings {\n\tisShort: Boolean,\n\tselectPosition: string\n}\n\nexport function getQuery(itemFrom, itemTo) {\n\treturn `${apiGetValue}?q=${itemFrom}_${itemTo}&compact=y`;\n}\n\nexport function clearSelectors() {\n\tfromEl.innerHTML = '';\n\ttoEl.innerHTML = '';\n\tdefaultFrom.innerHTML = '';\n\tdefaultTo.innerHTML = '';\n}\n\nexport function clear() {\n\tinputEl.value = '';\n\tresEl.innerText = '';\n\tinputEl.focus();\n}\n\nexport function getMountedOptions(data, settings:OptionSettings) {\n\tconst options = Object.keys(data)\n\t\t.map(item => createOption(data[item], settings))\n\t\t.sort((a,b) => a.dataset.name < b.dataset.name ? -1 : 1);\n\tconst wrapper = document.createDocumentFragment();\n\n\toptions.forEach(item => wrapper.appendChild(item));\n\n\treturn wrapper;\n}\n\nexport function createOption(item, settings:OptionSettings) {\n\tconst el = document.createElement('option');\n\n\tel.value = item.id;\n\tel.id = item.id;\n\tel.dataset.name = item.currencyName;\n\n\tif (settings.isShort) {\n\t\tel.innerText = item.id;\n\t} else {\n\t\tel.innerText = `${item.currencyName} (${item.id})`;\n\t}\n\n\tif (item[settings.selectPosition]) {\n\t\tel.selected = true;\n\t} else {\n\t\tel.selected = false;\n\t}\n\n\treturn el;\n}","import {\n\tdotNumberKey, minNum, maxNum, defaultNum, usedCurrenciesKey,\n\tinputEl, getBtn, clearBtn, resEl, fromEl, toEl,\tburger, reverse,\n\tsaveDefaultBtn,\tdefaultFrom, defaultTo,\tsaveDotBtn,\tdotNumberInput,\n\taddCurrencySelect, saveAddCurrencyBtn,\tsetInitialCurrenciesBtn,\n\tisFromAttr,\tisToAttr, apiGetAll, apiGetValue, initialUsedCurrencies\n} from './constants';\nimport { initNotification, displayNotification } from './notification';\nimport { getQuery, clearSelectors, clear, getMountedOptions } from './helpers';\n\nlet allCurrencies;\n\ninitialize();\n\nfunction initialize() {\n\tinitNotification();\n\tinitListeners();\n\tsetCurrenciesSelectors();\n\tsetDefaultDot();\n\tsetAllCurrencies();\n};\n\nfunction initListeners() {\n\tgetBtn.addEventListener('click', getCurrency);\n\tclearBtn.addEventListener('click', clear);\n\tburger.addEventListener('click', toggleMenu);\n\treverse.addEventListener('click', toggleCurrency);\n\tsaveDefaultBtn.addEventListener('click', saveDefaultHandler);\n\tsaveDotBtn.addEventListener('click', saveDotNumber);\n\tsaveAddCurrencyBtn.addEventListener('click', saveAddCurrency);\n\tsetInitialCurrenciesBtn.addEventListener('click', setInitialCurrencies);\n}\n\nfunction setCurrenciesSelectors() {\n\tclearSelectors();\n\tsetSelectors();\n}\n\nfunction setSelectors() {\n\tconst data = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\n\tfromEl.appendChild(getMountedOptions(data, {selectPosition: isFromAttr, isShort: true}));\n\ttoEl.appendChild(getMountedOptions(data, {selectPosition: isToAttr, isShort: true}));\n\tdefaultFrom.appendChild(getMountedOptions(data, {selectPosition: isFromAttr, isShort: true}));\n\tdefaultTo.appendChild(getMountedOptions(data, {selectPosition: isToAttr, isShort: true}));\n}\n\nfunction getCurrency() {\n\tconst fromVal = fromEl.value;\n\tconst toVal = toEl.value;\n\tconst query = getQuery(fromVal, toVal);\n\n\tif (fromVal === toVal) {\n\t\tcalculate(1);\n\t\treturn;\n\t}\n\n\tfetch(query)\n\t\t.then(resp => {return resp.json()})\n\t\t.then(data => {\n\t\t\tlet rate = 1;\n\n\t\t\tfor (let item in data) {\n\t\t\t\trate = data[item].val;\n\t\t\t}\n\t\t\tif (!navigator.onLine) {\n\t\t\t\tdisplayNotification('Application works offline');\n\t\t\t}\n\t\t\tcalculate(rate);\n\t\t})\n\t\t.catch(err => resEl.innerText = `Some problems with request - ${err}`);\n}\n\nfunction calculate(rate) {\n\tconst num = Number(inputEl.value);\n\tconst numDotStored = getData(dotNumberKey);\n\tconst numDot = numDotStored !== null ? numDotStored : defaultNum;\n\n\tresEl.innerText = (Math.round(rate * num * Math.pow(10, numDot)) / Math.pow(10, numDot)).toString();\n}\n\nfunction toggleMenu() {\n\tconst activeClass = '_burger-active';\n\tconst body = document.body;\n\n\tif (body.classList.contains(activeClass)) {\n\t\tbody.classList.remove(activeClass);\n\t} else {\n\t\tbody.classList.add(activeClass);\n\t}\n}\n\nfunction toggleCurrency() {\n\tconst firstIndex = fromEl.selectedIndex;\n\tconst secondIndex = toEl.selectedIndex;\n\n\t(<HTMLOptionElement>fromEl[secondIndex]).selected = true;\n\t(<HTMLOptionElement>toEl[firstIndex]).selected = true;\n}\n\nfunction saveDefaultHandler() {\n\tconst firstValue = defaultFrom[defaultFrom.selectedIndex].id;\n\tconst secondValue = defaultTo[defaultTo.selectedIndex].id;\n\tconst data = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\n\tdata.forEach(item => {\n\t\tconst id = item.id\n\n\t\titem[isFromAttr] = false;\n\t\titem[isToAttr] = false;\n\n\t\tif (id === firstValue) {\n\t\t\titem[isFromAttr] = true;\n\t\t}\n\n\t\tif (id === secondValue) {\n\t\t\titem[isToAttr] = true;\n\t\t}\n\t});\n\tsaveData(usedCurrenciesKey, data);\n\tsetCurrenciesSelectors();\n\ttoggleMenu();\n}\n\nfunction saveData(key, value) {\n\tlocalStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getData(key) {\n\tconst data = localStorage.getItem(key);\n\n\treturn JSON.parse(data);\n}\n\nfunction setDefaultDot() {\n\tconst data = getData(dotNumberKey);\n\n\tdotNumberInput.value = data !== null ? data : defaultNum;\n}\n\nfunction saveDotNumber() {\n\tconst value = Number(dotNumberInput.value);\n\tconst num = (value < minNum || value > maxNum) ? defaultNum : value;\n\n\tsaveData(dotNumberKey, num);\n\ttoggleMenu();\n}\n\nfunction setAllCurrencies() {\n\tfetch(apiGetAll)\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tallCurrencies = data.results;\n\t\t\tmountAllCurrencies(allCurrencies);\n\t\t})\n}\n\nfunction mountAllCurrencies(data=allCurrencies) {\n\tconst filteredData = filterAlreadyExist(data);\n\tconst mountedOptions = getMountedOptions(filteredData, {isShort: false, selectPosition: null});\n\n\taddCurrencySelect.innerHTML = '';\n\taddCurrencySelect.appendChild(mountedOptions);\n}\n\nfunction filterAlreadyExist(data) {\n\tconst usedCurrencies = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\tconst res = {};\n\n\tObject.keys(data).forEach(item => {\n\t\tconst id = data[item].id;\n\t\tif (usedCurrencies.filter(currency => currency.id === item).length === 0) {\n\t\t\tres[id] = data[id];\n\t\t}\n\t});\n\n\treturn res;\n}\n\nfunction saveAddCurrency() {\n\tconst usedCurrencies = getData(usedCurrenciesKey) || initialUsedCurrencies;\n\tconst newCurrency = addCurrencySelect[addCurrencySelect.selectedIndex];\n\tconst newCurrencies = [...usedCurrencies];\n\n\tnewCurrencies.push({\n\t\tid: newCurrency.id,\n\t\tcurrencyName: newCurrency.innerText\n\t})\n\n\tsaveData(usedCurrenciesKey, newCurrencies);\n\tsetCurrenciesSelectors();\n\tmountAllCurrencies();\n\ttoggleMenu();\n}\n\nfunction setInitialCurrencies() {\n\tsaveData(usedCurrenciesKey, null);\n\tmountAllCurrencies();\n\tsetCurrenciesSelectors();\n\ttoggleMenu();\n}"]}